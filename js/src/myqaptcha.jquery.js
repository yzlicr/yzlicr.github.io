jQuery.QapTcha={build:function(t){var e={txtLock:"发表评论前，请滑动滚动条解锁",txtUnlock:"已解锁，点击[提交]发表评论",disabledSubmit:true,autoRevert:true,PHPfile:myQaptchaJqueryPage,autoSubmit:false};if(this.length>0)return jQuery(this).each(function(r){var a=jQuery.extend(e,t),s=jQuery(this),i=jQuery("form").has(s),n=jQuery("<div>",{"class":"clr"}),u=jQuery("<div>",{"class":"bgSlider"}),o=jQuery("<div>",{"class":"Slider"}),d=jQuery("<div>",{"class":"Icons"}),c=jQuery("<a>",{"class":"dis",href:"http://blog.30c.org",text:"三十岁"}),l=jQuery("<div>",{"class":" TxtStatus dropError",text:a.txtLock}),f=jQuery("<input>",{name:p(32),value:p(7),type:"hidden"});if(a.disabledSubmit)i.find("input[type='submit']").attr("disabled","disabled");u.appendTo(s);d.insertAfter(u);l.insertAfter(d);n.insertAfter(l);c.insertAfter(n);f.appendTo(s);o.appendTo(u);s.show();o.draggable({revert:function(){if(a.autoRevert){if(parseInt(o.css("left"))>150)return false;else return true}},containment:u,axis:"x",stop:function(t,e){if(e.position.left>150){jQuery.post(a.PHPfile,{action:"30corg",myQaptcha:f.attr("name")},function(t){if(!t.error){o.draggable("disable").css("cursor","default");f.val("");l.text(a.txtUnlock).addClass("dropSuccess").removeClass("dropError");d.css("background-position","-16px 0");i.find("input[type='submit']").removeAttr("disabled")}},"json")}}});function p(t){var e="azertyupqsdfghjkmwxcvbn23456789AZERTYUPQSDFGHJKMWXCVBN_-#@";var a="";for(r=0;r<t;r++){var s=Math.round(Math.random()*e.length);a+=e.substring(s,s+1)}return a}})}};jQuery.fn.QapTcha=jQuery.QapTcha.build;